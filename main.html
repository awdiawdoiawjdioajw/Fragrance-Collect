<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fragrance Collect - Discover Your Signature Scent</title>
    <link rel="icon" href="data:,">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- GitHub Pages Performance Optimizations -->
    <meta http-equiv="Cache-Control" content="public, max-age=3600">
    <meta http-equiv="Expires" content="3600">
    <link rel="dns-prefetch" href="//weathered-mud-6ed5.joshuablaszczyk.workers.dev">
    <link rel="preconnect" href="//weathered-mud-6ed5.joshuablaszczyk.workers.dev" crossorigin>
    <script>
        // Force HTTPS redirect
        if (location.protocol !== 'https:' && location.hostname !== 'localhost' && location.hostname !== '127.0.0.1') {
            location.replace(`https:${location.href.substring(location.protocol.length)}`);
        }
        // Use Cloudflare Worker API
        window.API_BASE = 'https://weathered-mud-6ed5.joshuablaszczyk.workers.dev';
    </script>
</head>
<body>
    <div id="search-loading-bar" class="search-loading-bar" style="display: none;">
        <div class="loading-progress"></div>
        <span class="loading-text">Searching...</span>
    </div>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <!-- Logo on the left -->
                <div class="nav-logo">
                    <img src="emblem.png" alt="Fragrance Collect Logo" class="logo-emblem">
                    <h2>Fragrance Collect</h2>
                </div>
                
                <!-- Navigation menu in center -->
                <ul class="nav-menu">
                    <li><a href="#home" class="nav-link home-link">Home</a></li>
                    <li><a href="#favorites" class="nav-link">Favorites</a></li>
                    <li><a href="#collections" class="nav-link">Collections</a></li>
                    <li><a href="#top-rated" class="nav-link">Top Rated</a></li>
                    <li><a href="#shop" class="nav-link shop-link">Shop</a></li>
                </ul>
            </div>
            
            <div class="nav-right">
                <!-- Logged Out View -->
                <a href="auth.html" class="login-btn" id="login-btn" aria-label="Login or Sign up">
                    <i class="fas fa-user"></i>
                </a>

                <!-- Logged In View (Hidden by default) -->
                <div class="user-welcome" id="user-welcome" style="display: none;">
                    <div class="welcome-text">
                        <span class="greeting" id="dynamic-greeting">Hello</span>, 
                        <span id="user-name-display" class="user-name"></span>!
                        <span class="welcome-sub" id="welcome-subtitle">Discover your perfect scent</span>
                    </div>
                    <div class="user-actions">
                        <a href="account.html" class="account-link" aria-label="My Account"><i class="fas fa-user-cog"></i></a>
                        <a href="#" id="logout-link" class="logout-link" aria-label="Logout"><i class="fas fa-sign-out-alt"></i></a>
                    </div>
                </div>
            </div>
            
            <!-- Search and dropdown row -->
            <div class="search-row">
                <!-- Dropdown menu on the left -->
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle">
                        <i class="fas fa-bars"></i>
                        <span>Menu</span>
                        <i class="fas fa-chevron-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#favorites">Favorites</a></li>
                        <li><a href="#collections">Collections</a></li>
                        <li><a href="#top-rated">Top Rated</a></li>
                        <li><a href="#shop">Shop</a></li>
                        <li><a href="customer-service.html">Customer Service</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="size-guide.html">Size Guide</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="auth.html">Sign In/Up</a></li>
                    </ul>
                </div>
                
                <!-- Account settings on the right (when logged in) -->
                <div class="search-row-actions" id="search-row-actions" style="display: none;">
                    <a href="account.html" class="account-btn" aria-label="Account Settings" title="Account Settings">
                        <i class="fas fa-cog"></i>
                    </a>
                    <a href="#" id="search-logout-link" class="logout-btn" aria-label="Logout" title="Logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </div>
            </div>
            
            <!-- Hamburger menu for mobile -->
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
        

    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-slideshow">
            <div class="slide" style="background-image: url('Creed_ING.jpg');"></div>
            <div class="slide" style="background-image: url('Tom Ford_IMG.jpg');"></div>
            <div class="slide" style="background-image: url('Dior_IMG.jpg');"></div>
            <div class="slide" style="background-image: url('Chanel_IMG.jpg');"></div>
        </div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="hero-header">
                <div class="hero-greeting" id="hero-greeting" style="display: none;">
                    <span class="greeting-text">Good evening, Test!</span>
                </div>
                <h1 class="hero-title">Discover your signature scent</h1>
                <div class="hero-title-accent"></div>
            </div>
            <p class="hero-subtitle">Explore the world's finest fragrances curated for the discerning connoisseur</p>
            <button class="cta-button" id="browse-fragrances">Browse Fragrances</button>
        </div>
    </section>

    <!-- Favorites Section -->
    <section id="favorites" class="favorites-section" style="display: none;">
        <div class="container">
            <h2 class="section-title">My Favorite Fragrances</h2>
            <div id="favorites-grid" class="product-grid">
                <!-- Favorite items will be loaded here -->
            </div>
            <div id="favorites-empty-state" style="display: none; text-align: center;">
                <p>You haven't added any favorites yet. Click the heart on any fragrance to save it here.</p>
            </div>
        </div>
    </section>

    <!-- Main Content Wrapper -->
    <div class="main-content">
                 <!-- Filter Section -->
         <section class="filter-section" id="filter">
             <div class="container">
                 <div class="filter-container">
                     <!-- Sort By -->
                     <div class="filter-group">
                         <label for="sort-by-filter" class="filter-label">Sort By</label>
                         <select id="sort-by-filter" class="sort-select dropdown-toggle">
                             <option value="revenue">Best Match</option>
                             <option value="price_low">Price: Low to High</option>
                             <option value="price_high">Price: High to Low</option>
                             <option value="trending">Trending</option>
                             <option value="relevance">Relevance</option>
                         </select>
                     </div>

                     <!-- Price Range -->
                     <div class="filter-group">
                         <label for="price-range" class="filter-label">Price Range</label>
                         <select id="price-range" class="dropdown-toggle">
                             <option value="all">All Prices</option>
                             <option value="0-50">$0 - $50</option>
                             <option value="50-100">$50 - $100</option>
                             <option value="100-200">$100 - $200</option>
                             <option value="200+">$200+</option>
                         </select>
                     </div>

                     <!-- Shipping -->
                     <div class="filter-group">
                         <label for="shipping-filter" class="filter-label">Shipping</label>
                         <select id="shipping-filter" class="dropdown-toggle">
                             <option value="all">All Shipping</option>
                             <option value="free">Free Shipping</option>
                         </select>
                     </div>

                     <!-- Clear Filters -->
                     <div class="filter-group">
                         <button id="clear-filters" class="btn-secondary">Clear Filters</button>
                     </div>
                     
                     <!-- Centered Search Container -->
                     <div class="search-container">
                         <input type="text" placeholder="Search fragrances..." class="search-input" id="main-search">
                         <button class="search-btn" aria-label="Search">
                             <i class="fas fa-search"></i>
                         </button>
                         <button class="clear-search-btn" id="clear-search" style="display: none;" aria-label="Clear search">
                             <i class="fas fa-times"></i>
                         </button>
                     </div>
                 </div>
             </div>
         </section>

                 <!-- Featured Products -->
        <section id="shop" class="products-section">
            <div class="container">
                <h2 class="section-title">Featured Fragrances</h2>
                <div class="search-results-info" id="search-results-info" style="display: none;">
                    <!-- Search results count will be displayed here -->
                </div>
                
                <!-- Revenue Metrics Container -->
                <div id="revenue-metrics" style="display: none;">
                    <!-- Revenue metrics will be dynamically loaded here -->
                </div>
                
                <div id="products-grid" class="products-grid">
                    <!-- Product cards will be injected here -->
                </div>
                <div id="pagination-container" class="pagination-container"></div>
                <div id="no-results" style="display:none; text-align: center; margin-top: 50px;">
                    <h2>No products found</h2>
                    <p>Try adjusting your filters or search terms.</p>
                </div>
            </div>
        </section>

        <!-- Top Rated Section -->
        <section id="top-rated" class="top-rated-section">
            <div class="container">
                <h2 class="section-title">Popular Picks</h2>
                <div class="products-grid" id="top-rated-grid">
                    <!-- Top rated products will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- TikTok Shop Section -->
        <section id="tiktok-shop" class="tiktok-section">
            <div class="container">
                <h2 class="section-title">Viral TikTok Finds</h2>
                <div class="products-grid" id="tiktok-products-grid">
                    <!-- TikTok Shop products will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Featured Collections -->
        <section id="collections" class="collections-section">
            <div class="container">
                <h2 class="section-title">Featured Collections</h2>
                <div class="collections-scroll">
                    <div class="collection-card" data-brand="Creed">
                        <div class="collection-image">
                            <img src="Creed_ING.jpg" alt="Creed Green Irish Tweed">
                        </div>
                        <div class="collection-content">
                            <h3>Creed Green Irish Tweed</h3>
                            <p>A timeless classic for the confident individual.</p>
                            <a href="#" class="collection-btn">View Collection</a>
                        </div>
                    </div>
                    <div class="collection-card" data-brand="Tom Ford">
                        <div class="collection-image">
                            <img src="Tom Ford_IMG.jpg" alt="Tom Ford Ombré Leather">
                        </div>
                        <div class="collection-content">
                            <h3>Tom Ford Ombré Leather</h3>
                            <p>Bold, sensual, and undeniably luxurious.</p>
                            <a href="#" class="collection-btn">View Collection</a>
                        </div>
                    </div>
                    <div class="collection-card" data-brand="Dior">
                        <div class="collection-image">
                            <img src="Dior_IMG.jpg" alt="Dior Sauvage">
                        </div>
                        <div class="collection-content">
                            <h3>Dior Sauvage</h3>
                            <p>A powerful and fresh statement of masculinity.</p>
                            <a href="#" class="collection-btn">View Collection</a>
                        </div>
                    </div>
                    <div class="collection-card" data-brand="Chanel">
                        <div class="collection-image">
                            <img src="Chanel_IMG.jpg" alt="Chanel Coco Mademoiselle">
                        </div>
                        <div class="collection-content">
                            <h3>Chanel Coco Mademoiselle</h3>
                            <p>The essence of a free and captivating woman.</p>
                            <a href="#" class="collection-btn">View Collection</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">Fragrance Collect</h3>
                    <p>Discover the world's finest fragrances curated for the discerning connoisseur.</p>
                    <div class="social-links">
                        <a href="https://www.tiktok.com/@the.cologne.archi" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="Visit our TikTok profile"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="main.html">Home</a></li>
                        <li><a href="main.html#favorites">Favorites</a></li>
                        <li><a href="main.html#collections">Collections</a></li>
                        <li><a href="main.html#top-rated">Top Rated</a></li>
                        <li><a href="main.html#shop">Shop</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Customer Service</h4>
                    <ul class="footer-links">
                        <li><a href="customer-service.html">Customer Service</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="size-guide.html">Size Guide</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="terms-of-service.html">Terms of Service</a></li>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <div class="contact-info">
                        <p><i class="fas fa-envelope"></i> info@fragrancecollect.com</p>
                        <p><i class="fas fa-envelope"></i> support@fragrancecollect.com</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Fragrance Collect. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Perfume Details Modal -->
    <div class="modal" id="perfume-modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-body">
                <div class="modal-image">
                    <img id="modal-perfume-image" src="" alt="">
                </div>
                <div class="modal-info">
                    <h2 id="modal-perfume-name"></h2>
                    <p class="modal-brand" id="modal-perfume-brand"></p>
                    <div class="modal-rating" id="modal-perfume-rating"></div>
                    <p class="modal-description" id="modal-perfume-description"></p>
                    <div class="modal-price" id="modal-perfume-price"></div>
                    <button class="modal-btn">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>

    <script src="shared-auth.js"></script>
    <script src="script.js"></script>
</body>
</html> 